<div class="container mt-5">
  <h2>Registrarse</h2>

  <form (ngSubmit)="registrar()" #formRegistro="ngForm" novalidate>

    <!-- Nombre -->
    <div class="mb-3">
      <label>Nombre</label>
      <input
        type="text"
        class="form-control"
        name="nombre"
        [(ngModel)]="usuario.nombre"
        required
        minlength="3"
        #nombre="ngModel"
      />
      <div class="text-danger" *ngIf="nombre.invalid && nombre.touched">
        El nombre es obligatorio y debe tener al menos 3 caracteres.
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label>Email</label>
      <input
        type="email"
        class="form-control"
        name="email"
        [(ngModel)]="usuario.email"
        required
        email
        #email="ngModel"
      />
      <div class="text-danger" *ngIf="email.invalid && email.touched">
        Introduce un email válido.
      </div>
    </div>

    <!-- Teléfono -->
    <div class="mb-3">
      <label>Teléfono</label>
      <input
        type="tel"
        class="form-control"
        name="telefono"
        [(ngModel)]="usuario.telefono"
        required
        pattern="^[0-9]{9,}$"
        #telefono="ngModel"
      />
      <div class="text-danger" *ngIf="telefono.invalid && telefono.touched">
        El teléfono debe tener al menos 9 dígitos y solo números.
      </div>
    </div>

    <!-- Contraseña -->
    <div class="mb-3">
      <label>Contraseña</label>
      <input
        type="password"
        class="form-control"
        name="password"
        [(ngModel)]="usuario.password"
        required
        minlength="6"
        #password="ngModel"
      />
      <div class="text-danger" *ngIf="password.invalid && password.touched">
        La contraseña debe tener al menos 6 caracteres.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="formRegistro.invalid">
      Registrarse
    </button>

  </form>

  <div class="alert alert-info mt-3" *ngIf="mensaje">
    {{ mensaje }}
  </div>
</div>
